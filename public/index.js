!function(e){var n={};function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)t.d(r,a,function(n){return e[n]}.bind(null,a));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=280)}({279:function(e,n,t){},280:function(e,n,t){"use strict";t.r(n);t(279);function r(e,n,t,r,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void t(e)}s.done?n(c):Promise.resolve(c).then(r,a)}function a(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];this.view=t[0],this.model=t[1]}var n,t,i,o,s;return n=e,(t=[{key:"init",value:function(){var e=this;this.loadData(),this.view.onSearchNews(function(n){return e.loadData(n)}),this.view.onRefreshNews(function(){return e.loadData()})}},{key:"loadData",value:(o=regeneratorRuntime.mark(function e(n){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.view.manageLoader(!0),e.prev=1,e.next=4,this.model.getNews(n);case 4:if(e.t0=e.sent,e.t0){e.next=7;break}e.t0=[];case 7:(t=e.t0).length?this.view.renderNews(t):this.view.renderEmptyResult(),e.next=15;break;case 11:throw e.prev=11,e.t1=e.catch(1),this.view.renderErrorMessage(),new Error(e.t1);case 15:return e.prev=15,this.view.manageLoader(!1),e.finish(15);case 18:case"end":return e.stop()}},e,this,[[1,11,15,18]])}),s=function(){var e=this,n=arguments;return new Promise(function(t,a){var i=o.apply(e,n);function s(e){r(i,t,a,s,c,"next",e)}function c(e){r(i,t,a,s,c,"throw",e)}s(void 0)})},function(e){return s.apply(this,arguments)})}])&&a(n.prototype,t),i&&a(n,i),e}(),o={API_KEY:"0705e7dcd0114afdb2e897d0635afc29",BASE_URL:window.location.href,get DEFAULT_NEWS_URL(){return"https://newsapi.org/v2/top-headlines?country=us&apiKey=".concat(this.API_KEY)},get NO_IMAGE_URL(){return"".concat(this.BASE_URL,"/assets/no-image-box.png")},GET_QUERY_NEWS_URL:function(e){return"https://newsapi.org/v2/everything?q=".concat(e,"&apiKey=").concat(this.API_KEY)},EMPTY_VALUE:"",NO_SEARCH_RESULT_TEXT:"No Search Results",ERROR_TEXT:"Data Loading Error"};function s(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.mainContentArea=document.querySelector("#app-content"),this.appLoader=document.querySelector("#app-loader"),this.searchField=document.querySelector("#search-field"),this.searchBtn=document.querySelector("#search-btn"),this.refreshBtn=document.querySelector("#refresh-btn"),this.newsHeader=document.querySelector(".news-header")}var n,t,r;return n=e,(t=[{key:"renderNews",value:function(e){var n=this;this.mainContentArea.innerHTML=o.EMPTY_VALUE,e.forEach(function(e){return n.renderNewsCard(e)}),this.renderNewsHeader()}},{key:"renderNewsCard",value:function(e){var n=e.source.name,t=e.description,r=e.publishedAt,a=e.title,i=e.urlToImage,s=e.url,c='\n            <div class="ui link cards">\n                <div class="card">\n                    <div class="image">\n                        <img src="'.concat(i||o.NO_IMAGE_URL,'">\n                    </div>\n                    <div class="content">\n                        <div class="header">').concat(a,'</div>\n                        <div class="meta">\n                            <span>').concat(n,'</span>\n                        </div>\n                        <div class="description">').concat(t||o.EMPTY_VALUE,'</div>\n                    </div>\n                    <div class="extra content card-footer">\n                        <span class="right floated">').concat(this.formatData(r),'</span>\n                        <span>\n                            <a href="').concat(s,'" target="blank">\n                                <button class="ui right labeled icon button tiny card-btn">\n                                        Read More\n                                        <i class="right chevron icon"></i>\n                                </button>\n                            </a>\n                            \n                        </span>\n                    </div>\n                </div>\n            </div>');this.mainContentArea.innerHTML+=c}},{key:"renderNewsHeader",value:function(){this.newsHeader.innerText=this.searchField.value?'"'.concat(this.searchField.value.toUpperCase(),'" search results:'):"Top News:"}},{key:"renderEmptyResult",value:function(){this.renderMessage(o.NO_SEARCH_RESULT_TEXT)}},{key:"renderErrorMessage",value:function(){this.renderMessage(o.ERROR_TEXT)}},{key:"renderMessage",value:function(e){this.renderNewsHeader(),this.mainContentArea.innerHTML="\n            <h2 class='error message'>".concat(e,"</h2>")}},{key:"manageLoader",value:function(e){var n=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;e?this.appLoader.classList.add("active"):setTimeout(function(){return n.appLoader.classList.remove("active")},t)}},{key:"formatData",value:function(e){return new Date(e).toDateString()}},{key:"onSearchNews",value:function(e){var n=this;this.searchBtn.addEventListener("click",function(){n.searchField.value.length>2&&e(n.searchField.value)}),this.searchField.addEventListener("keyup",function(t){13===t.keyCode&&n.searchField.value.length>2&&e(n.searchField.value)})}},{key:"onRefreshNews",value:function(e){var n=this;this.refreshBtn.addEventListener("click",function(){n.searchField.value=o.EMPTY_VALUE,e()})}}])&&s(n.prototype,t),r&&s(n,r),e}();function u(e,n,t,r,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void t(e)}s.done?n(c):Promise.resolve(c).then(r,a)}function l(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var d=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,t,r,a,i;return n=e,(t=[{key:"getNews",value:(a=regeneratorRuntime.mark(function e(n){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(n?o.GET_QUERY_NEWS_URL(n):o.DEFAULT_NEWS_URL);case 2:return t=e.sent,e.next=5,t.json();case 5:return r=e.sent,e.abrupt("return",r.articles);case 7:case"end":return e.stop()}},e,this)}),i=function(){var e=this,n=arguments;return new Promise(function(t,r){var i=a.apply(e,n);function o(e){u(i,t,r,o,s,"next",e)}function s(e){u(i,t,r,o,s,"throw",e)}o(void 0)})},function(e){return i.apply(this,arguments)})}])&&l(n.prototype,t),r&&l(n,r),e}();new i(new c,new d).init()}});